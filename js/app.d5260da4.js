(function(e){function t(t){for(var n,i,r=t[0],c=t[1],l=t[2],u=0,f=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/popanda-v1-demo/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0e23":function(e,t,a){},1474:function(e,t,a){},"38c4":function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=o,e.exports=s,s.id="4678"},"5c6b":function(e,t,a){"use strict";var n=a("cb13"),s=a.n(n);s.a},b059:function(e,t,a){},cb13:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("6d93"),a("684e");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main-layout",[a("schedule-page")],1)},o=[],i=(a("b059"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrapper"},[a("Navigation",{attrs:{scale:e.scale},on:{scaleChanged:e.scaleChanged,dateFromChanged:e.dateFromChanged,hideWeekendsChanged:e.hideWeekendsChanged}}),a("v-expansion-panels",{attrs:{hover:!0,multiple:!0,value:e.openTeamsIndexes},on:{change:e.openTeamsChanged}},e._l(e.teams,(function(t){return a("v-expansion-panel",{key:t.id},[a("v-expansion-panel-header",{style:{color:e.fontColorForBg(t.color)},attrs:{color:t.color},scopedSlots:e._u([{key:"actions",fn:function(){return[a("v-icon",{attrs:{color:e.fontColorForBg(t.color)}},[e._v("$expand")])]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.name)+" ["+e._s(t.peopleCount)+"] ")]),a("v-expansion-panel-content",[a("Schedule",{attrs:{teamData:e.teamsData[t.id],team:t,isoDateFrom:e.isoDateFrom,isoDateTo:e.isoDateTo,holidays:e.holidays,hideWeekends:e.hideWeekends,scale:e.scale}})],1)],1)})),1)],1)}),r=[],c=(a("4160"),a("d81d"),a("13d5"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("ade3")),l=a("5530"),d=a("3835"),u=(a("0e23"),a("d4ec")),f=a("bee2"),m=function e(){Object(u["a"])(this,e)};m.VACATION={label:"VACATION",color:"#ff0000"},m.SICK={label:"SICK",color:"#cccc00"},m.LONG_TERM_LEAVE={label:"LONG_TERM_LEAVE",color:"#cc00cc"},m.OFFICE={label:"OFFICE",color:"#0000dd"},m.HOME_OFFICE={label:"HOME_OFFICE",color:"#00dddd"},m.UNDEFINED={label:"UNDEFINED",color:"#dddddd"};var p=function(){function e(){Object(u["a"])(this,e)}return Object(f["a"])(e,[{key:"getActivityTypes",value:function(e){return Promise.resolve([m.HOME_OFFICE,m.OFFICE,m.VACATION,m.UNDEFINED])}}]),e}(),v=new p,h=(a("4de4"),a("45fc"),a("96cf"),a("1da1")),b=a("c1df"),y=a.n(b),j=31,g=14,k=7,_="YYYY-MM-DD",w=function e(t){Object(u["a"])(this,e),this.isoDate=t;var a=b["utc"](t);this.day=a.date(),this.month=a.month(),this.year=a.year(),this.week=a.isoWeek(),this.dayOfWeek=a.isoWeekday()};function O(e,t){var a=[],n=b["utc"](e);while(1){var s=n.format(_);if(a.push(new w(s)),s===t)break;n=n.add(1,"day")}return a}function C(e,t,a){switch(t){case j:return b["utc"](e).date(1).add(a,"month").format(_);case k:case g:return b["utc"](e).day(1).add(a,"week").format(_);default:return console.error("Incorrect scale ".concat(t)),b["utc"](e).day(1).add(a,"week").format(_)}}function D(e,t){switch(t){case j:return b["utc"](e).date(1).add(1,"month").add(-1,"day").format(_);case k:case g:return b["utc"](e).day(1).add(t-1,"day").format(_);default:return console.error("Incorrect scale ".concat(t)),b["utc"](e).day(1).add(g-1,"day").format(_)}}var T=[[1,1],[25,12]],x=function(){function e(){Object(u["a"])(this,e)}return Object(f["a"])(e,[{key:"getHolidays",value:function(e,t){return Promise.resolve(O(e,t).filter((function(e){return 6===e.dayOfWeek||7===e.dayOfWeek||T.some((function(t){return e.day===t[0]&&e.month===t[1]}))})).map((function(e){return e.isoDate})))}},{key:"isWeekend",value:function(e){var t=e instanceof w?e:O(e,e)[0];return 6===t.dayOfWeek||7===t.dayOfWeek}}]),e}(),S=new x,N=(a("99af"),a("c975"),function e(t,a,n,s,o){Object(u["a"])(this,e),this.id=t,this.isoDate=a,this.type=n,this.commentPublic=s,this.commentForSuperior=o}),I=(a("a15b"),a("ac1f"),a("1276"),function(){function e(t,a,n){Object(u["a"])(this,e),this.id=t,this.firstName=a,this.lastName=n}return Object(f["a"])(e,[{key:"initials",get:function(){return"".concat(this.firstName.charAt(0)).concat(this.lastName.replaceAll(/[\W]+/g," ").split(" ").map((function(e){return e.charAt(0)})).join("").toLocaleUpperCase())}}]),e}()),F=a("262e"),E=a("2caf"),V=function(e){Object(F["a"])(a,e);var t=Object(E["a"])(a);function a(e,n,s,o){var i;return Object(u["a"])(this,a),i=t.call(this,e,n,s),i.activities=o,i}return Object(f["a"])(a,[{key:"activitiesPerDay",get:function(){return this.activities}}]),a}(I),L=[new I("p0000","Kamil","Mikula"),new I("p0001","Piotr","Flisak"),new I("p0002","Krystian","Przerwa-Tetmajer"),new I("p0003","Pawel","Smyczewski"),new I("p0004","Lukasz","Bocian"),new I("p0006","Stanislav","Tachman"),new I("p0007","Benjamin","Tostojad")],P=function(){function e(){Object(u["a"])(this,e)}return Object(f["a"])(e,[{key:"getSchedule",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,a,n,s){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=L.filter((function(e){return a.indexOf(e.id)>=0})),e.abrupt("return",new Promise((function(e){setTimeout((function(){e(o.map((function(e){var t=O(n,s).map((function(t){var a=t.isoDate;return Math.random()>.6?new N("a".concat(e.id,"_").concat(a),a,Math.random()>.8?m.OFFICE:m.HOME_OFFICE,Math.random()>.6?"public comment":"",Math.random()>.9?"comment for manager":""):null})).filter((function(e){return!!e}));return new V(e.id,e.firstName,e.lastName,t)})))}),200)})));case 2:case"end":return e.stop()}}),e)})));function t(t,a,n,s){return e.apply(this,arguments)}return t}()}]),e}(),A=new P,z=function(){function e(){Object(u["a"])(this,e)}return Object(f["a"])(e,[{key:"getTeammates",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e("t001"===t?[L[0],L[1],L[2],L[3],L[4]]:[L[0],L[5],L[6]])}),300)})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),M=new z,B=function(){function e(){Object(u["a"])(this,e)}return Object(f["a"])(e,[{key:"getTeams",value:function(){return Promise.resolve([{id:"t001",name:"Vinora",peopleCount:5,orderNo:0,color:"#004d99"},{id:"t002",name:"ACDC",peopleCount:3,orderNo:1,color:"#dddddd"}])}}]),e}(),W=new B,H=function(){function e(){Object(u["a"])(this,e)}return Object(f["a"])(e,[{key:"getStats",value:function(e){return Promise.resolve(e.reduce((function(e,t){return t.activitiesPerDay.forEach((function(t){e[t.type.label]||(e[t.type.label]={}),e[t.type.label][t.isoDate]||(e[t.type.label][t.isoDate]=0),e[t.type.label][t.isoDate]+=1})),e}),{}))}}]),e}(),$=new H;a("a9e3"),a("25eb");function G(e){var t=Number.parseInt(e.substr(1,2),16),a=Number.parseInt(e.substr(3,2),16),n=Number.parseInt(e.substr(5,2),16),s=1-(.299*t+.587*a+.114*n)/255;return s<.5?"#333":"#fff"}var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"schedule"},[a("table",[a("v-overlay",{attrs:{value:!e.teamData||e.teamData.loading,absolute:!0,opacity:.1}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("TimelineGridHeader",{attrs:{dates:e.dates,scale:e.scale}}),e.teamData.loaded?a("TimelineGridBody",{attrs:{rows:e.teamData.people,rowName:e.rowName,rowId:e.rowId},scopedSlots:e._u([{key:"cell",fn:function(t){return e._l(e.dates,(function(n){return a("ScheduleCell",{key:n.isoDate,attrs:{activity:e.activities[e.rowId(t.row)][n.isoDate],isHoliday:e.holidays.indexOf(n.isoDate)>=0,isoDate:n.isoDate}})}))}},{key:"avatar",fn:function(t){return[a("v-avatar",{attrs:{color:e.avatarColor(t.row),size:"36"}},[a("span",{staticClass:"white--text"},[e._v(" "+e._s(e.avatarContents(t.row))+" ")])])]}}],null,!1,2986706330)}):a("TimelineGridBodyStub",{attrs:{rowsCount:e.team.peopleCount,datesCount:e.dates.length}}),a("ScheduleStats",{attrs:{stats:e.teamData.stats,statsLoaded:e.teamData.statsLoaded,activityTypes:e.teamData.activityTypes,activityTypesLoaded:e.teamData.activityTypesLoaded,dates:e.dates,holidays:e.holidays}})],1)])},K=[],R=(a("b64b"),a("38c4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th"),a("th",{staticClass:"row-title"},[e._v("year")]),e._l(e.colspans.years,(function(t){return a("th",{key:t.date.year,attrs:{colspan:t.colspan}},[e._v(e._s(t.date.year))])}))],2),a("tr",[a("th"),a("th",{staticClass:"row-title"},[e._v("month")]),e._l(e.colspans.months,(function(t){return a("th",{key:t.date.month,attrs:{colspan:t.colspan}},[e._v(e._s(e.getMonthName(t.date)))])}))],2),a("tr",[a("th"),a("th",{staticClass:"row-title"},[e._v("week")]),e._l(e.colspans.weeks,(function(t){return a("th",{key:t.date.week,attrs:{colspan:t.colspan}},[e._v(e._s(t.date.week))])}))],2),a("tr",[a("th"),a("th",{staticClass:"row-title"},[e._v("day")]),e._l(e.dates,(function(t){return a("th",{key:t.isoDate,class:e.isDayOff(t)?"sunday":""},[e._v(" "+e._s(t.day)),a("br"),e._v(e._s(e.getWeekdayName(t))+" ")])}))],2)])}),q=[],Y=n["a"].extend({name:"TimelineGridHeader",props:{dates:{type:Array},scale:Number},computed:{colspans:function(){var e={weeks:{},months:{},years:{}};return this.dates.forEach((function(t){e.weeks[t.week]?e.weeks[t.week].colspan+=1:e.weeks[t.week]={date:t,colspan:1},e.months[t.month]?e.months[t.month].colspan+=1:e.months[t.month]={date:t,colspan:1},e.years[t.year]?e.years[t.year].colspan+=1:e.years[t.year]={date:t,colspan:1}})),e}},methods:{getMonthName:function(e){return y()(e.isoDate).format("MMMM")},getWeekdayName:function(e){return y()(e.isoDate).format("dd")},isDayOff:function(e){return 7===e.dayOfWeek}}}),J=Y,Q=a("2877"),X=Object(Q["a"])(J,R,q,!1,null,null,null),Z=X.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tbody",e._l(e.rows,(function(t){return a("tr",{key:e.rowId(t)},[a("td",{staticClass:"avatar"},[e._t("avatar",null,{row:t})],2),a("td",{staticClass:"name",domProps:{innerHTML:e._s(e.rowName(t))}}),e._t("cell",null,{row:t})],2)})),0)},te=[],ae=n["a"].extend({name:"TimelineGridBody",props:{rows:Array,rowName:{type:Function,required:!0},rowId:{type:Function,required:!0}}}),ne=ae,se=Object(Q["a"])(ne,ee,te,!1,null,null,null),oe=se.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tbody",e._l(e.rowsCount,(function(t){return a("tr",{key:t},[a("td",{staticClass:"avatar"}),a("td",{staticClass:"name"}),e._l(e.datesCount,(function(e){return a("td",{key:e})}))],2)})),0)},re=[],ce=n["a"].extend({name:"TimelineGridBodyStub",props:{datesCount:Number,rowsCount:Number}}),le=ce,de=Object(Q["a"])(le,ie,re,!1,null,null,null),ue=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.activity?a("td",{class:{holiday:e.isHoliday}},[a("div",{staticClass:"cell-icons"},[e.activity.commentForSuperior||e.activity.commentPublic?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{"x-small":"",color:"normal"}},"v-icon",s,!1),n),[e._v("mdi-comment-alert-outline")])]}}],null,!1,2338367195)},[a("div",[e.activity.commentPublic?a("span",[e._v(e._s(e.activity.commentPublic))]):e._e(),e.activity.commentForSuperior&&e.activity.commentPublic?a("br"):e._e(),e.activity.commentForSuperior?a("span",[e._v(e._s(e.activity.commentForSuperior))]):e._e()])]):e._e()],1),a("div",{staticClass:"cell-color",style:{backgroundColor:e.activity.type.color,color:e.fontColorForBg(e.activity.type.color)}},[a("span",{staticClass:"dayNumber"},[e._v(e._s(e.getDayNumber(e.activity.isoDate)))])])]):a("td",{class:{holiday:e.isHoliday}},[a("div",{staticClass:"cell-icons"}),a("div",{staticClass:"cell-color"},[a("span",{staticClass:"dayNumber"},[e._v(e._s(e.getDayNumber(e.isoDate)))])])])},me=[],pe=n["a"].extend({name:"ScheduleCell",props:{activity:Object,isHoliday:Boolean,isoDate:String},methods:{fontColorForBg:function(e){return G(e)},getDayNumber:function(e){return new w(e).day}}}),ve=pe,he=a("6544"),be=a.n(he),ye=a("132d"),je=a("3a2f"),ge=Object(Q["a"])(ve,fe,me,!1,null,null,null),ke=ge.exports;be()(ge,{VIcon:ye["a"],VTooltip:je["a"]});var _e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.statsLoaded?a("TimelineGridBody",{staticClass:"stats",attrs:{rows:e.activityTypes,rowName:e.rowName,rowId:e.rowId},scopedSlots:e._u([{key:"cell",fn:function(t){return e._l(e.dates,(function(n){return a("ScheduleStatsCell",{key:n.isoDate,attrs:{isHoliday:e.holidays.indexOf(n.isoDate)>=0,isoDate:n.isoDate,value:e.stats[t.row.label]?e.stats[t.row.label][n.isoDate]:0}})}))}},{key:"avatar",fn:function(t){return[a("v-avatar",{attrs:{color:e.avatarColor(t.row),width:"34",height:"20","min-width":"auto"}})]}}],null,!1,907383923)}):e.activityTypesLoaded?a("TimelineGridBodyStub",{attrs:{rowsCount:e.activityTypes.length,datesCount:e.dates.length}}):e._e()},we=[],Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",{class:{holiday:e.isHoliday}},[e._v(" "+e._s(e.value?e.value:"")+" ")])},Ce=[],De=n["a"].extend({name:"ScheduleStatsCell",props:{activity:Object,isHoliday:Boolean,value:Number}}),Te=De,xe=Object(Q["a"])(Te,Oe,Ce,!1,null,null,null),Se=xe.exports,Ne=n["a"].extend({name:"ScheduleStats",components:{TimelineGridBody:oe,TimelineGridBodyStub:ue,ScheduleStatsCell:Se},props:{activityTypes:{type:Array},activityTypesLoaded:Boolean,statsLoaded:Boolean,team:{type:Object},holidays:{type:Array},dates:{type:Array},stats:{type:Object},scale:Number},methods:{rowName:function(e){return e.label},rowId:function(e){return e.label},avatarColor:function(e){return e.color}}}),Ie=Ne,Fe=(a("d1dd"),a("8212")),Ee=Object(Q["a"])(Ie,_e,we,!1,null,null,null),Ve=Ee.exports;be()(Ee,{VAvatar:Fe["a"]});var Le=n["a"].extend({name:"Schedule",components:{TimelineGridHeader:Z,TimelineGridBody:oe,TimelineGridBodyStub:ue,ScheduleCell:ke,ScheduleStats:Ve},props:{teamData:{type:Object},team:{type:Object},holidays:{type:Array},isoDateFrom:String,isoDateTo:String,scale:Number,hideWeekends:Boolean},computed:{dates:function(){var e=this;return O(this.isoDateFrom,this.isoDateTo).filter((function(t){return!e.hideWeekends||!S.isWeekend(t)}))},activities:function(){var e=this;return Object.keys(this.teamData.activities).reduce((function(t,a){return t[a]||(t[a]={}),e.teamData.activities[a].forEach((function(e){t[a][e.isoDate]=e})),t}),{})}},methods:{rowName:function(e){return"".concat(e.lastName.replaceAll(/[\s]*-[\s]*/g,"&#8209;")," ").concat(e.firstName.replaceAll(/[\s]/g,"&#0160;"))},rowId:function(e){return e.id},avatarColor:function(){return"primary"},avatarContents:function(e){return e.initials}}}),Pe=Le,Ae=a("a797"),ze=a("490a"),Me=Object(Q["a"])(Pe,U,K,!1,null,null,null),Be=Me.exports;be()(Me,{VAvatar:Fe["a"],VOverlay:Ae["a"],VProgressCircular:ze["a"]});var We={loading:!1,loaded:!1,activityTypesLoading:!1,activityTypesLoaded:!1,statsLoading:!1,statsLoaded:!1,people:[],activityTypes:[],activities:{},stats:{}},He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-toolbar",{attrs:{id:"navigation",extended:!e.collapsed,"extension-height":e.collapsed?0:100},scopedSlots:e._u([e.collapsed?null:{key:"extension",fn:function(){return[a("v-toolbar-title",[e._v("Title2")])]},proxy:!0}],null,!0)},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.collapsed=!e.collapsed}}},[a("v-icon",[e._v(e._s(e.collapsed?"mdi-chevron-down":"mdi-chevron-up"))])],1),a("v-toolbar-title",[e._v("Navigation")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"scale-dropdown d-none d-sm-flex",attrs:{color:"normal",outlined:""}},"v-btn",s,!1),n),[e._v(" "+e._s(e.scaleItems.find((function(t){return t.scale===e.scale})).name)+" ")])]}}])},[a("v-list",e._l(e.scaleItems,(function(t){return a("v-list-item",{key:t.scale,on:{click:function(a){return e.scaleItemClicked(t.scale)}}},[a("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.navigate(-1)}}},[a("v-icon",[e._v("mdi-chevron-left")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.navigate(1)}}},[a("v-icon",[e._v("mdi-chevron-right")])],1),a("v-spacer"),a("v-switch",{staticClass:"v-input--reverse",attrs:{"hide-details":""},on:{change:e.hideWeekendsChanged},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("Hide weekends")]},proxy:!0}])})],1)},$e=[],Ge=n["a"].extend({name:"Navigation",props:{scale:Number},data:function(){return{collapsed:!0,scaleItems:[{name:"Weekly",scale:7},{name:"Bi-weekly",scale:14},{name:"Monthly",scale:31}]}},methods:{scaleItemClicked:function(e){this.$emit("scaleChanged",e)},navigate:function(e){this.$emit("dateFromChanged",e)},hideWeekendsChanged:function(e){this.$emit("hideWeekendsChanged",e)}}}),Ue=Ge,Ke=(a("5c6b"),a("8336")),Re=a("8860"),qe=a("da13"),Ye=a("5d23"),Je=a("e449"),Qe=a("2fa4"),Xe=a("b73d"),Ze=a("71d9"),et=a("2a7f"),tt=Object(Q["a"])(Ue,He,$e,!1,null,null,null),at=tt.exports;be()(tt,{VBtn:Ke["a"],VIcon:ye["a"],VList:Re["a"],VListItem:qe["a"],VListItemTitle:Ye["b"],VMenu:Je["a"],VSpacer:Qe["a"],VSwitch:Xe["a"],VToolbar:Ze["a"],VToolbarTitle:et["a"]});var nt=a("c487"),st=n["a"].extend({name:"SchedulePage",components:{Schedule:Be,Navigation:at},data:function(){return{teams:[],holidays:[],openTeamsIndexes:[],teamsData:{},isoDateFrom:"2020-09-14",scale:g,hideWeekends:!1}},computed:{isoDateTo:function(){return D(this.isoDateFrom,this.scale)}},created:function(){var e=this;W.getTeams().then((function(t){e.teams=t,t.length&&(t.forEach((function(t){e.updateTeamsData(t.id,We)})),e.openTeamsChanged([0]))})),this.loadHolidays()},methods:{hideWeekendsChanged:function(e){this.hideWeekends=e},scaleChanged:function(e){this.scale=e,this.isoDateFrom=C(this.isoDateFrom,this.scale,0),this.reloadOpenSchedules()},dateFromChanged:function(e){this.isoDateFrom=C(this.isoDateFrom,this.scale,e),this.reloadOpenSchedules()},openTeamsChanged:function(e){var t=this;this.openTeamsIndexes=e,e.map((function(e){return t.teams[e].id})).forEach((function(e){t.teamsData[e].loaded||t.loadTeamData(e)}))},loadHolidays:function(){var e=this;S.getHolidays(this.isoDateFrom,this.isoDateTo).then((function(t){e.holidays=t}))},loadTeamData:function(e){var t=this;this.updateTeamsData(e,{loading:!0,activityTypesLoading:!0}),Promise.all([M.getTeammates(e),v.getActivityTypes(e)]).then((function(a){var n=Object(d["a"])(a,2),s=n[0],o=n[1];t.updateTeamsData(e,{people:s,activityTypes:o,activityTypesLoading:!1,activityTypesLoaded:!0}),t.loadSchedule(e)}))},reloadOpenSchedules:function(){var e=this;this.loadHolidays(),nt.eachSeries(this.openTeamsIndexes.map((function(t){return e.teams[t].id})),(function(t,a){return e.loadSchedule(t).then(a)}))},loadSchedule:function(e){var t=this;return this.updateTeamsData(e,{loading:!0,loaded:!1,statsLoaded:!1}),A.getSchedule(e,this.teamsData[e].people.map((function(e){return e.id})),this.isoDateFrom,this.isoDateTo).then((function(a){return t.updateTeamsData(e,{activities:t.mapActivitiesByPersonId(a),loading:!1,loaded:!0,statsLoading:!0}),$.getStats(a)})).then((function(a){t.updateTeamsData(e,{statsLoading:!1,statsLoaded:!0,stats:a})}))},updateTeamsData:function(e,t){this.teamsData=Object(l["a"])(Object(l["a"])({},this.teamsData),{},Object(c["a"])({},e,Object(l["a"])(Object(l["a"])({},this.teamsData[e]),t)))},mapActivitiesByPersonId:function(e){return e.reduce((function(e,t){return e[t.id]=t.activitiesPerDay,e}),{})},fontColorForBg:function(e){return G(e)}}}),ot=st,it=a("cd55"),rt=a("49e2"),ct=a("c865"),lt=a("0393"),dt=Object(Q["a"])(ot,i,r,!1,null,null,null),ut=dt.exports;be()(dt,{VExpansionPanel:it["a"],VExpansionPanelContent:rt["a"],VExpansionPanelHeader:ct["a"],VExpansionPanels:lt["a"],VIcon:ye["a"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return[t.children?a("v-list-group",{key:t.text,attrs:{"prepend-icon":t.icon,"append-icon":"mdi-chevron-down"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},e._l(t.children,(function(t,n){return a("v-list-item",{key:n,attrs:{link:""}},[t.icon?a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)})),1):a("v-list-item",{key:t.text,attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2)],1),a("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[a("span",{staticClass:"hidden-sm-and-down"},[e._v("KtoKiedy ")]),a("v-icon",[e._v("mdi-panda")])],1),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-apps")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-bell")])],1),a("v-btn",{attrs:{icon:"",large:""}},[a("v-avatar",{attrs:{size:"32px",item:""}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/logos/logo.svg",alt:"Vuetify"}})],1)],1)],1),a("v-main",[a("v-container",{staticClass:"fill-height align-content-start"},[e._t("default")],2)],1)],1)},mt=[],pt=n["a"].extend({name:"MainLayout",data:function(){return{drawer:!1,items:[{icon:"mdi-calendar",text:"Schedule"},{icon:"mdi-cog",text:"Settings",model:!0,children:[{text:"People",icon:"mdi-account-edit"},{text:"Teams",icon:"mdi-account-group"},{text:"Activity types",icon:"mdi-format-list-checks"}]}]}}}),vt=pt,ht=a("7496"),bt=a("40dc"),yt=a("5bc1"),jt=a("a523"),gt=a("adda"),kt=a("56b0"),_t=a("1800"),wt=a("f6c4"),Ot=a("f774"),Ct=Object(Q["a"])(vt,ft,mt,!1,null,null,null),Dt=Ct.exports;be()(Ct,{VApp:ht["a"],VAppBar:bt["a"],VAppBarNavIcon:yt["a"],VAvatar:Fe["a"],VBtn:Ke["a"],VContainer:jt["a"],VIcon:ye["a"],VImg:gt["a"],VList:Re["a"],VListGroup:kt["a"],VListItem:qe["a"],VListItemAction:_t["a"],VListItemContent:Ye["a"],VListItemTitle:Ye["b"],VMain:wt["a"],VNavigationDrawer:Ot["a"],VSpacer:Qe["a"],VToolbarTitle:et["a"]});var Tt=n["a"].extend({name:"App",components:{SchedulePage:ut,MainLayout:Dt}}),xt=Tt,St=Object(Q["a"])(xt,s,o,!1,null,null,null),Nt=St.exports,It=a("f309");n["a"].use(It["a"]);var Ft=new It["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:Ft,render:function(e){return e(Nt)}}).$mount("#app")},d1dd:function(e,t,a){"use strict";var n=a("1474"),s=a.n(n);s.a}});
//# sourceMappingURL=app.d5260da4.js.map